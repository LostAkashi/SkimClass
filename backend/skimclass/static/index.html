
<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <title>略课 SkimClass</title>
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <header class="topbar">
      <div>
        <h1>略课 SkimClass</h1>
        <p>本地运行的课堂智能助教（屏幕自动录课 + 多模态总结）</p>
      </div>
      <button id="btn-settings">设置大模型</button>
    </header>

    <main class="layout">
      <section class="column">
        <div class="card">
          <h2>开始一节课</h2>
          <label>课程名称</label>
          <input id="course-name" placeholder="例如：建筑数学 第3章" />

          <label>采集模式</label>
          <select id="mode">
            <option value="standard">标准：每 30 秒截屏</option>
            <option value="enhanced">增强：高频截屏</option>
            <option value="light">轻量：只做问答/知识库</option>
          </select>

          <label>截屏间隔（秒，标准模式有效）</label>
          <input id="interval" type="number" min="5" max="300" value="30" />

          <div class="buttons">
            <button id="btn-start">Start Session</button>
            <button id="btn-stop">Stop</button>
            <button id="btn-outline">生成 Outline</button>
          </div>

          <p id="session-info" class="hint"></p>
        </div>

        <div class="card">
          <h2>提问 / 解惑</h2>
          <textarea id="qa-input" rows="4" placeholder="把你对本节课的疑惑写在这里……"></textarea>
          <div class="buttons">
            <button id="btn-ask">Ask</button>
          </div>
          <div id="qa-answer" class="qa-answer"></div>
        </div>
      </section>

      <section class="column">
        <div class="card">
          <div class="card-header">
            <h2>本节课 Outline</h2>
            <button id="btn-refresh">刷新</button>
          </div>
          <ol id="segments" class="segment-list"></ol>
          <p id="segments-empty" class="hint">还没有生成 Outline。先结束一节课，再点击“生成 Outline”，稍等片刻后再刷新。</p>
        </div>

        <div class="card">
          <div class="card-header">
            <h2>课后小测</h2>
            <button id="btn-quiz">生成</button>
          </div>
          <ol id="quiz-list" class="quiz-list"></ol>
          <p id="quiz-empty" class="hint">点击右上角“生成”即可得到几道简单小测题。</p>
        </div>

        <div class="card">
          <div class="card-header">
            <h2>拓展学习建议</h2>
            <button id="btn-recom">生成</button>
          </div>
          <div id="recom-text" class="report"></div>
          <p id="recom-empty" class="hint">根据本节课内容，自动给出一些拓展资料和预习/复习建议。</p>
        </div>

        <div class="card">
          <div class="card-header">
            <h2>学习报告</h2>
            <button id="btn-report">生成</button>
          </div>
          <div id="report-text" class="report"></div>
          <p id="report-empty" class="hint">生成一份适合粘贴到笔记里的学习报告。</p>
        </div>
      </section>
    </main>

    <div id="settings-modal" class="modal hidden">
      <div class="modal-content">
        <h2>大模型设置</h2>
        <label>API Base</label>
        <input id="api-base" placeholder="例如：https://api.deepseek.com" />

        <label>Model</label>
        <input id="api-model" placeholder="例如：deepseek-chat" />

        <label>API Key</label>
        <input id="api-key" type="password" placeholder="在这里粘贴密钥" />

        <div class="buttons">
          <button id="btn-save-settings">保存</button>
          <button id="btn-close-settings">取消</button>
        </div>

        <p id="settings-hint" class="hint"></p>
      </div>
    </div>

    <script src="/static/app.js"></script>
  </body>
</html>
